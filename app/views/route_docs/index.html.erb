<style>
  .usa-table-borderless td:first-child {
    vertical-align: top;
    width: 6em;
  }
  .field {
    margin-bottom: 0.5em;
  }
  .field-name {
    font-weight: 700;
  }
  .details {
    color: gray;
    font-size: smaller;
  }
  .field .more-info {
    margin-left: 1em;
    margin-top: 0.25em;
  }
  .field .nested-schema {
    border-left: 3px solid #eee;
    padding-left: 0.5em;
    max-height: 0;
    overflow: hidden;
  }
  .field code {
    background: #eee;
    border: 1px solid #ddd;
    font-size: .8em;
  }
  .field input[type="checkbox"] {
    display: none;
  }
  .field label {
    top: 0;
    color: gray;
    position: relative;
    float: right;
  }
  .field label::before {
    content: "";
    box-shadow: none;
    height: 0;
    width: 0;
  }
  .field label::after {
    content: " +";
    font-weight: bold;
  }
  .field input:checked + label::before {
    box-shadow: none;
  }
  .field input:checked + label::after {
    content: " - ";
  }
  .field input:checked ~ .nested-schema {
    max-height: 100%;
  }
</style>
<section class="cf-app-segment cf-app-segment--alt">
  <% @routes.each do |route| %>
    <h2><%= route.verb %> <%= route.path %></h2>
    <table class="usa-table-borderless">
      <tbody>
        <tr>
          <td>Controller</td>
          <td>
            <% if route.source_url %><a href="<%= route.source_url %>"><% end %>
              <%= route.controller_klass.name %>#<%= route.action %>
            <% if route.source_url %></a><% end %>
          </td>
        </tr>
        <tr>
          <td>Schema</td>
          <td>
            <% if route.schema.present? %>
              <%= render "schema", schema: route.schema %>
            <% else %>
              No controller schema found.
            <% end %>
          </td>
        </tr>
      </tbody>
    </table>
  <% end %>
</section>
